<view class="container">
  <!-- 搜索栏 -->
  <view class="search-header">
    <view class="search-input-container">
      <icon type="search" size="16" class="search-icon"></icon>
      <input class="search-input" 
             placeholder="搜索绳结教程" 
             value="{{keyword}}"
             bindinput="onInputChange"
             bindconfirm="onSearch"
             confirm-type="search" />
      <icon wx:if="{{keyword}}" type="clear" size="16" class="clear-icon" bindtap="clearSearch"></icon>
    </view>
    <text class="cancel-btn" bindtap="goBack">取消</text>
  </view>

  <!-- 搜索历史 -->
  <view class="search-history" wx:if="{{!keyword && searchHistory.length > 0}}">
    <view class="history-header">
      <text class="history-title">搜索历史</text>
      <text class="clear-history" bindtap="clearHistory">清空</text>
    </view>
    <view class="history-tags">
      <text class="history-tag" 
            wx:for="{{searchHistory}}" 
            wx:key="*this" 
            bindtap="onHistoryTap" 
            data-keyword="{{item}}">{{item}}</text>
    </view>
  </view>

  <!-- 热门搜索 -->
  <view class="hot-search" wx:if="{{!keyword}}">
    <view class="hot-header">
      <text class="hot-title">热门搜索</text>
    </view>
    <view class="hot-tags">
      <text class="hot-tag" 
            wx:for="{{hotKeywords}}" 
            wx:key="*this" 
            bindtap="onHotTap" 
            data-keyword="{{item}}">{{item}}</text>
    </view>
  </view>

  <!-- 搜索结果 -->
  <view class="search-results" wx:if="{{keyword}}">
    <view class="result-header">
      <text class="result-count">找到 {{total}} 个结果</text>
    </view>
    
    <view class="result-list" wx:if="{{knots.length > 0}}">
      <view class="result-item" 
            wx:for="{{knots}}" 
            wx:key="id" 
            bindtap="goToDetail" 
            data-id="{{item.id}}">
        <image class="result-image" src="{{item.coverImage}}" mode="aspectFill"></image>
        <view class="result-info">
          <text class="result-name">{{item.name}}</text>
          <text class="result-desc">{{item.description}}</text>
          <view class="result-meta">
            <text class="result-category">{{item.category.name}}</text>
            <text class="result-views">{{item.viewCount}}次浏览</text>
          </view>
        </view>
      </view>
    </view>

    <!-- 加载更多 -->
    <view class="load-more" wx:if="{{hasMore}}">
      <text class="load-more-text" bindtap="loadMore">加载更多</text>
    </view>

    <!-- 无结果 -->
    <view class="no-result" wx:if="{{keyword && knots.length === 0}}">
      <image class="no-result-image" src="/images/no-result.png"></image>
      <text class="no-result-text">没有找到相关结果</text>
      <text class="no-result-tip">试试其他关键词</text>
    </view>
  </view>
</view>

